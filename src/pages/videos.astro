---
import Layout from '../layouts/Layout.astro';

const videos = [
  {
    title: "Conference Talk",
    description: "Security and DevOps presentation",
    youtubeId: "IE0hzdFkJYc",
    type: "youtube"
  },
  {
    title: "Tech Talk",
    description: "Technical presentation on security topics",
    youtubeId: "P9EaHSxIXe8",
    type: "youtube"
  },
  {
    title: "Talk",
    description: "Conference presentation",
    youtubeId: "mndwket9HBI",
    type: "youtube"
  }
];

// Example Loom videos - add your own
const loomVideos = [
  // {
  //   title: "Threat Modeling Demo",
  //   description: "Walkthrough of the LLM-powered threat modeling tool",
  //   loomId: "your-loom-id-here",
  //   type: "loom"
  // }
];

const allVideos = [...videos, ...loomVideos];
---

<Layout title="Videos | Nancy Chauhan">
  <div class="container">
    <header class="page-header">
      <h1 class="page-title">Videos</h1>
      <p class="page-subtitle">Conference talks, demos, and walkthroughs</p>
    </header>

    <section class="video-grid">
      {allVideos.map((video) => (
        <article class="video-card">
          <div class="video-embed">
            {video.type === 'youtube' ? (
              <iframe
                src={`https://www.youtube.com/embed/${video.youtubeId}`}
                title={video.title}
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
              />
            ) : (
              <iframe
                src={`https://www.loom.com/embed/${video.loomId}`}
                title={video.title}
                allowfullscreen
              />
            )}
          </div>
          <div class="video-info">
            <h2 class="video-title">{video.title}</h2>
            <p class="video-description">{video.description}</p>
          </div>
        </article>
      ))}
    </section>

    <section class="section" style="border-top: none; padding-top: 2rem;">
      <h2 class="section-title">Upcoming Talk</h2>
      <article class="project-card">
        <h3 class="project-title">Automate Once, Run Anywhere: The Docker Moment for Security Workflows</h3>
        <p style="font-family: var(--font-mono); font-size: 0.8rem; color: var(--text-muted); margin: 0.5rem 0;">
          KubeCon + CloudNativeCon Europe 2026 · March 25, 2026 · Amsterdam
        </p>
        <p class="project-description">
          Making security automation portable, reproducible, and Kubernetes-native using open, declarative workflow definitions.
        </p>
        <div class="project-tags">
          <span class="tag">Kubernetes</span>
          <span class="tag">Security Automation</span>
          <span class="tag">Cloud Native</span>
        </div>
      </article>
    </section>
  </div>
</Layout>

<style>
  .video-grid {
    display: grid;
    gap: 2rem;
  }

  @media (min-width: 640px) {
    .video-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
</style>
